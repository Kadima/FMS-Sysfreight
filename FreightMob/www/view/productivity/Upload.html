<ion-view title="DocumentScan">
    <ion-header-bar class="bar-positive" align-title="center">
        <div class="buttons">
            <button class="button button-icon button-clear ion-android-arrow-back" ng-click="returnDoc()"></button>
        </div>
        <div class="h1 title">Upload</div>
    </ion-header-bar>
    <ion-pane>
        <div style="height: 43px;"></div>
        <div>
            <!--div ng-file-select="onFileSelect($files)" data-multiple="false" title="select file" onclick="this.value = null">
                Click here to select file
            </div>
            <hr />
            <ol>
               <li ng-repeat="(k,v) in selectFiles">
                   {{v.file.name}} - {{v.progress.p}}% <button ng-click="abort(k)">x</button>
               </li>
           </ol-->
            <input type="file" nv-file-select="" uploader="uploader" />
        </div>
        <div>
            <div class="col-md-12">
               <h3>Upload queue</h3>
               <p>Queue length: {{ uploader.queue.length }}</p>
               <table class="table">
                   <thead>
                       <tr>
                           <th width="50%">Name</th>
                           <th width="15%" ng-show="uploader.isHTML5">Size</th>
                           <th width="15%">Status</th>
                           <th width="20%">Actions</th>
                       </tr>
                   </thead>
                   <tbody>
                       <tr ng-repeat="item in uploader.queue">
                           <td><strong>{{ item.file.name }}</strong></td>
                           <td ng-show="uploader.isHTML5" nowrap>{{ item.file.size/1024/1024|number:2 }} MB</td>
                           <td class="text-center">
                               <span ng-show="item.isSuccess"><i class="glyphicon glyphicon-ok"></i></span>
                               <span ng-show="item.isCancel"><i class="glyphicon glyphicon-ban-circle"></i></span>
                               <span ng-show="item.isError"><i class="glyphicon glyphicon-remove"></i></span>
                           </td>
                           <td nowrap>
                               <button type="button" class="btn btn-success btn-xs" ng-click="item.upload()" ng-disabled="item.isReady || item.isUploading || item.isSuccess">
                                   <span class="glyphicon glyphicon-upload"></span> Upload
                               </button>
                               <button type="button" class="btn btn-warning btn-xs" ng-click="item.cancel()" ng-disabled="!item.isUploading">
                                   <span class="glyphicon glyphicon-ban-circle"></span> Cancel
                               </button>
                               <button type="button" class="btn btn-danger btn-xs" ng-click="item.remove()">
                                   <span class="glyphicon glyphicon-trash"></span> Remove
                               </button>
                           </td>
                       </tr>
                   </tbody>
               </table>
               <!--div>
                   <div>
                       Queue progress:
                       <div class="progress" style="">
                           <div class="progress-bar" role="progressbar" ng-style="{ 'width': uploader.progress + '%' }"></div>
                       </div>
                   </div>
                   <button type="button" class="btn btn-success btn-s" ng-click="uploader.uploadAll()" ng-disabled="!uploader.getNotUploadedItems().length">
                       <span class="glyphicon glyphicon-upload"></span> Upload all
                   </button>
                   <button type="button" class="btn btn-warning btn-s" ng-click="uploader.cancelAll()" ng-disabled="!uploader.isUploading">
                       <span class="glyphicon glyphicon-ban-circle"></span> Cancel all
                   </button>
                   <button type="button" class="btn btn-danger btn-s" ng-click="uploader.clearQueue()" ng-disabled="!uploader.queue.length">
                       <span class="glyphicon glyphicon-trash"></span> Remove all
                   </button>
               </div-->
           </div>
       </div>
    </ion-pane>
    <ion-footer-bar class="bar-positive hide-on-keyboard-open">
        <div class="button-bar">
            <button class="button icon ion-arrow-return-right" ng-click="returnDoc()">
                &nbsp;Return
            </button>
        </div>
    </ion-footer-bar>
</ion-view>
